/*!
 * Script for adding functionality to the Edit Page screen.
 *
 * @since 1.0.0
 */
!function(a){"use strict";var b={cache:{$document:a(document)},init:function(){this.cacheElements(),this.bindEvents()},cacheElements:function(){this.cache.$pageTemplate=a("#page_template"),this.cache.$builderToggle=a("#use-builder"),this.cache.$mainEditor=a("#postdivrich"),this.cache.$builder=a("#ttfmake-builder"),this.cache.$duplicator=a(".ttfmake-duplicator"),this.cache.$builderHide=a("#ttfmake-builder-hide"),this.cache.$featuredImage=a("#postimagediv"),this.cache.$commentstatus=a("#comment_status"),this.cache.$pingstatus=a("#ping_status"),this.cache.$body=a("body")},bindEvents:function(){var a=this;a.cache.$pageTemplate.on("change",a.templateToggle),a.cache.$builderToggle.on("click",a.templateToggle),"undefined"!=typeof ttfmakeEditPageData&&"post-new.php"===ttfmakeEditPageData.pageNow&&"page"===pagenow&&(a.cache.$pageTemplate.val("template-builder.php"),a.cache.$commentstatus.prop("checked",""),a.cache.$pingstatus.prop("checked","")),a.cache.$document.on("ready",function(){a.cache.$pageTemplate.trigger("change")})},templateToggle:function(c){var d=b,e=a(c.target),f=e.val();"template-builder.php"===f||e.is(":checked")?(d.cache.$mainEditor.hide(),d.cache.$builder.show(),d.cache.$duplicator.show(),d.cache.$builderHide.prop("checked",!0).parent().show(),d.featuredImageToggle("message"),d.cache.$body.addClass("ttfmake-builder-active").removeClass("ttfmake-default-active")):(d.cache.$mainEditor.show(),d.cache.$builder.hide(),d.cache.$duplicator.hide(),d.cache.$builderHide.prop("checked",!1).parent().hide(),d.featuredImageToggle("show"),d.cache.$body.removeClass("ttfmake-builder-active").addClass("ttfmake-default-active"))},featuredImageToggle:function(c){var d,e,f=b;e="undefined"!=typeof ttfmakeEditPageData?ttfmakeEditPageData.featuredImage:"Note: the Builder Template does not display a featured image.",d=a('<div class="ttfmake-metabox-message"></div>').css("padding","0 12px 12px").html(e).wrapInner('<p class="hide-if-no-js">'),f.cache.$featuredImage.find(".ttfmake-metabox-message").remove(),"message"===c&&f.cache.$featuredImage.find(".inside").after(d)}};b.init()}(jQuery);